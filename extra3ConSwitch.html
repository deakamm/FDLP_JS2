<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ejercicio M4-Extra3</title>
</head>

<body>
  <h1>Ejercicio M4-Extra3</h1>
  <details>
      <summary><mark>Enunciado</mark></summary>
      <p>Escriu un programa que et permeti jugar pedra, paper o tisora ​​amb l'ordinador.</p>
      <p>Per a això l'ordinador haurà de generar un nombre aleatori entre 1 i 3
          que representi pedra, paper o tisora ​​respectivament,<br>
          i l'usuari/ària haurà de respondre al seu torn<br>
          amb un nombre entre l'1 i el 3 després de mostrar la següent pantalla:</p>
  </details>
  <h2>Jugar Piedra-Papel-Tijera</h2>
    <p>Selecciona tu opcion:
      <p id="opt1">Piedra &#x270a;</p>
      <p id="opt2">Papel &#x270b;</p>
      <p id="opt3">Tijera &#x270c;</p>
      </p>
      <p>Tria (1-3): <input type="number" id="num" min="1" max="3"></p>
  </p>
  <p><button onclick="mostrar()">Mostrar Trimestre</button></p>
  <p id="resultado"></p>
  <script>
    function mostrar() {
      "use strict"; //obligamos a definir las variables
      let arrayJugar = ["", "&#x270a;", "&#x270b;", "&#x270c;"];

      let juegoOrdenador = Math.floor(Math.random() * (4 -1)) + 1;
      console.log("Ordenador", juegoOrdenador);
      let ordenador = arrayJugar[juegoOrdenador];

      let opcionUsuario = Number(document.getElementById("num").value);
      let usuario = arrayJugar[opcionUsuario];
      console.log("Usuario:", usuario);      
      
      let respuesta = `Tu (ordenador) ${ordenador}, y yo (usuario) ${usuario}. `;
      console.log("La respuesta es :", respuesta);
      let mensaje = "";      
      
      if (opcionUsuario < 1 || opcionUsuario > 3) {
        mensaje = "Entiendo que no quieres jugar. ¡Adios!";
      }else if(opcionUsuario == juegoOrdenador){
      mensaje = respuesta + "Empate";
    }else{
      mensaje = respuesta;
      switch (opcionUsuario) {
        case 1:
        mensaje += (juegoOrdenador == 2) ? "Has ganado ": "He ganado";
          break;
        case 2: 
        mensaje += (juegoOrdenador == 3) ? "Has ganado ": "He ganado";
          break;
        case 3:
        mensaje += (juegoOrdenador == 1) ? "Has ganado ": "He ganado";
          break;
      } // final switch break sale acá
    }
      document.getElementById("resultado").innerHTML= mensaje;
  }
  </script>

</body>

</html>