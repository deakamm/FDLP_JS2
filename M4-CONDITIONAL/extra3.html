<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ejercicio M4-Extra3</title>
</head>

<body>
    <h1>Ejercicio M4-Extra3</h1>
    <details>
        <summary><mark>Enunciado</mark></summary>
        <p>Escriu un programa que et permeti jugar pedra, paper o tisora ​​amb l'ordinador.</p>
        <p>Per a això l'ordinador haurà de generar un nombre aleatori entre 1 i 3
            que representi pedra, paper o tisora ​​respectivament,<br>
            i l'usuari/ària haurà de respondre al seu torn<br>
            amb un nombre entre l'1 i el 3 després de mostrar la següent pantalla:</p>
    </details>
    <h2>Jugar Piedra-Papel-Tijera</h2>
    <p>Selecciona tu opcion:
    <p id="opt1">Piedra</p>
    <p id="opt2">Papel</p>
    <p id="opt3">Tijera</p>
    </p>
    <p>Tria (1-3): <input type="number" id="num" min="1" max="3"></p>

    <p><button onclick="jugar()">Jugar</button></p>
    <p id="resultado"></p>

    <script>
        function jugar() {
            // Obtener la opcion del usuario
            let numUsuario = parseInt(document.getElementById("num").value);
            let opcionId = "opt" + numUsuario;
            console.log("opcionId", opcionId);

            let numLetra = document.getElementById(opcionId).innerHTML;
            console.log("numLetra", numLetra);

            let resultado = "";

            // Comprobar si la opcion del usuario es valida
            if (numUsuario >= 1 && numUsuario <= 3) {

                // Generar una opcion aleatoria para el Ordenador (1 = Piedra, 2 = Papel, 3 = Tijeras)
                let numRandom = Math.floor(Math.random() * (4 - 1)) + 1;
                let letraRandom = document.getElementById("opt" + numRandom).innerHTML;
                console.log(letraRandom);
                // Determinar el resultado del juego
                if (numUsuario === numRandom) {
                    resultado = "Empate";
                } else if (
                    (numUsuario === 1 && numRandom === 3) ||
                    (numUsuario === 2 && numRandom === 1) ||
                    (numUsuario === 3 && numRandom === 2)
                ) {
                    resultado = `Has ganado!`;
                } else {
                    resultado = "El Ordenador ganó";
                }

                // Mostrar el resultado
                document.getElementById("resultado").innerHTML = `Yo <b>${numLetra}</b> y tu <b>${letraRandom}</b>. ${resultado}`;
            } else {
                resultado = "Entiendo que no quieres jugar. ¡Adiós!";
                document.getElementById("resultado").innerHTML = resultado;
            }
            console.log("El resultado es:", resultado);
        }
    </script>
</body>

</html>